# åŒ»ç–—é—®ç­” RAG ç³»ç»Ÿ - Vue å‰ç«¯

åŸºäº Vue 3 + Pinia çš„åŒ»ç–—é—®ç­” RAG ç³»ç»Ÿå‰ç«¯ç•Œé¢ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

- ğŸ’¬ **æ™ºèƒ½å¯¹è¯** - å¤šè½®å¯¹è¯ã€æµå¼è¾“å‡ºã€Markdown æ¸²æŸ“
- ğŸ” **æ£€ç´¢é…ç½®** - æŸ¥è¯¢é‡å†™ã€HyDEã€é‡æ’åºç­‰å¯è§†åŒ–é…ç½®
- ğŸ“Š **å®æ—¶ç»Ÿè®¡** - ç¼“å­˜å‘½ä¸­ç‡ã€çŸ¥è¯†åº“ç»Ÿè®¡
- ğŸ“š **æ¥æºå¼•ç”¨** - å±•ç¤ºæ£€ç´¢æ¥æºå’Œç›¸å…³åº¦åˆ†æ•°
- ğŸ¨ **ä¸“ä¸šç•Œé¢** - åŒ»ç–—ä¸»é¢˜è®¾è®¡ï¼Œæ¸…æ–°ä¸“ä¸š

## ğŸ“¦ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Vue 3 (Composition API)
- **çŠ¶æ€ç®¡ç†**: Pinia
- **æ„å»ºå·¥å…·**: Vite
- **HTTP å®¢æˆ·ç«¯**: Axios
- **Markdown**: Marked

## ğŸ› ï¸ å®‰è£…ä¸è¿è¡Œ

### å‰ç½®æ¡ä»¶

- Node.js 18+
- pnpm / npm / yarn
- åç«¯ API æœåŠ¡è¿è¡Œåœ¨ `http://localhost:8080`

### å®‰è£…ä¾èµ–

```bash
cd medical_qa_frontend
npm install
# æˆ–
pnpm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

è®¿é—® http://localhost:3000

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
medical_qa_frontend/
â”œâ”€â”€ index.html              # å…¥å£ HTML
â”œâ”€â”€ package.json            # é¡¹ç›®é…ç½®
â”œâ”€â”€ vite.config.js          # Vite é…ç½®
â””â”€â”€ src/
    â”œâ”€â”€ main.js             # Vue å…¥å£
    â”œâ”€â”€ App.vue             # æ ¹ç»„ä»¶
    â”œâ”€â”€ api/
    â”‚   â””â”€â”€ index.js        # API æœåŠ¡å°è£…
    â”œâ”€â”€ assets/
    â”‚   â””â”€â”€ main.css        # å…¨å±€æ ·å¼
    â”œâ”€â”€ components/
    â”‚   â”œâ”€â”€ ConfigPanel.vue      # é…ç½®é¢æ¿
    â”‚   â”œâ”€â”€ ConversationList.vue # ä¼šè¯åˆ—è¡¨
    â”‚   â””â”€â”€ MessageBubble.vue    # æ¶ˆæ¯æ°”æ³¡
    â”œâ”€â”€ stores/
    â”‚   â””â”€â”€ chat.js         # Pinia Store
    â””â”€â”€ views/
        â””â”€â”€ ChatView.vue    # èŠå¤©è§†å›¾
```

## ğŸ¯ åŠŸèƒ½è¯´æ˜

### æ£€ç´¢é…ç½®

| é…ç½®é¡¹ | è¯´æ˜ |
|--------|------|
| Top-K | æ£€ç´¢è¿”å›çš„æ–‡æ¡£æ•°é‡ |
| æµå¼è¾“å‡º | å®æ—¶æ˜¾ç¤º AI å›ç­” |
| æŸ¥è¯¢é‡å†™ | ä¼˜åŒ–æŸ¥è¯¢è¯æé«˜æ£€ç´¢æ•ˆæœ |
| é‡å†™æ¨¡å¼ | single/multi/context/auto/hyde |
| é‡æ’åº | ä½¿ç”¨ Cross-Encoder ç²¾æ’ |

### é‡å†™æ¨¡å¼

- **å•æŸ¥è¯¢é‡å†™**: å°†å£è¯­åŒ–æŸ¥è¯¢ä¼˜åŒ–ä¸ºä¸“ä¸šæ£€ç´¢è¯
- **å¤šæŸ¥è¯¢æ‰©å±•**: ç”Ÿæˆå¤šä¸ªæŸ¥è¯¢å˜ä½“ï¼Œæé«˜å¬å›ç‡
- **ä¸Šä¸‹æ–‡æ„ŸçŸ¥**: ç»“åˆå¯¹è¯å†å²è¡¥å…¨ä»£è¯å’Œçœç•¥
- **è‡ªåŠ¨é€‰æ‹©**: æ ¹æ®æŸ¥è¯¢ç‰¹å¾è‡ªåŠ¨é€‰æ‹©æœ€ä½³æ¨¡å¼
- **HyDE**: ç”Ÿæˆå‡è®¾æ€§ç†æƒ³æ–‡æ¡£è¿›è¡Œè¯­ä¹‰åŒ¹é…

### API ä»£ç†

å¼€å‘æ¨¡å¼ä¸‹ï¼ŒVite ä¼šå°† `/api` è¯·æ±‚ä»£ç†åˆ°åç«¯æœåŠ¡ï¼š

```javascript
// vite.config.js
server: {
  proxy: {
    '/api': {
      target: 'http://localhost:8080',
      changeOrigin: true
    }
  }
}
```

## ğŸ¨ ç•Œé¢é¢„è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åŒ»ç–—é—®ç­”                                                    â”‚
â”‚  RAG System v2.1        [+ æ–°å¯¹è¯]                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              â”‚                           â”‚   æ£€ç´¢é…ç½®        â”‚
â”‚  å¯¹è¯åˆ—è¡¨     â”‚      èŠå¤©åŒºåŸŸ              â”‚                  â”‚
â”‚              â”‚                           â”‚   â—‹ Top-K: 5     â”‚
â”‚  â— æ„Ÿå†’å’¨è¯¢   â”‚  ç”¨æˆ·: æ„Ÿå†’äº†æ€ä¹ˆåŠï¼Ÿ      â”‚   â—‹ æµå¼è¾“å‡º âœ“   â”‚
â”‚  â—‹ é«˜è¡€å‹     â”‚                           â”‚                  â”‚
â”‚              â”‚  AI: æ„Ÿå†’æ˜¯ç”±ç—…æ¯’å¼•èµ·...    â”‚   æŸ¥è¯¢é‡å†™       â”‚
â”‚              â”‚      [å‚è€ƒæ¥æº (3)]        â”‚   â—‹ å¯ç”¨ âœ“       â”‚
â”‚              â”‚                           â”‚   â—‹ æ¨¡å¼: single â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                           â”‚                  â”‚
â”‚  çŸ¥è¯†å—: 1234 â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   é‡æ’åº         â”‚
â”‚  æ–‡æ¡£: 56    â”‚  â”‚ è¾“å…¥æ‚¨çš„é—®é¢˜...  [â†‘] â”‚  â”‚   â—‹ å¯ç”¨ â—‹       â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹ API åœ°å€

ç¼–è¾‘ `vite.config.js`ï¼š

```javascript
server: {
  proxy: {
    '/api': {
      target: 'http://your-api-server:8080',
      changeOrigin: true
    }
  }
}
```

### ä¿®æ”¹ä¸»é¢˜é¢œè‰²

ç¼–è¾‘ `src/assets/main.css` ä¸­çš„ CSS å˜é‡ï¼š

```css
:root {
  --primary-500: #0d9488;  /* ä¸»è‰² */
  --primary-600: #0b7a70;  /* æ·±è‰² */
  /* ... */
}
```

## ğŸ“ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°ç»„ä»¶

```vue
<template>
  <div class="my-component">
    <!-- å†…å®¹ -->
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { useChatStore } from '../stores/chat'

const store = useChatStore()
// ...
</script>

<style scoped>
.my-component {
  /* æ ·å¼ */
}
</style>
```

### è°ƒç”¨ API

```javascript
import api from '../api'

// èŠå¤©
const response = await api.chat({
  message: 'æ„Ÿå†’äº†æ€ä¹ˆåŠ',
  enable_rewrite: true,
  rewrite_mode: 'single'
})

// æµå¼èŠå¤©
for await (const chunk of api.chatStream(params)) {
  console.log(chunk)
}

// HyDE ç”Ÿæˆ
const hyde = await api.generateHyDE('é«˜è¡€å‹åƒä»€ä¹ˆè¯')
```

## ğŸ“„ License

MIT
